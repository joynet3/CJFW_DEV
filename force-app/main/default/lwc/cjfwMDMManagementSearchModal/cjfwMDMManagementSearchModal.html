<template>
    <Template lwc:if={showModal}>
        <!-- Header -->
        <lightning-modal-header label ={Title}>
        </lightning-modal-header>
        
        <!-- Body -->
        <lightning-modal-body>

            <div class="searchHeader">
                <lightning-layout multiple-rows="true"  style="padding-bottom: 1rem; background-color: #F3F3F3;">
                    <lightning-layout-item size="12" medium-device-size="5" padding="around-small" >
                        <lightning-input label ="검색어" type ="text" value ={searchKey} onchange={codeDataChange} field-level-help={helpText} onkeypress={handleEnter} ></lightning-input>
                    </lightning-layout-item>
                    
                    <lightning-layout-item flexibility="grow" padding="around-small">
                        <!-- 빈 레이아웃 아이템을 추가하여 버튼을 오른쪽 끝으로 밀어냄 -->
                    </lightning-layout-item>
                    
                    <lightning-layout-item size="auto" padding="around-small" class="custom-button-container">
                        <button class="slds-button slds-button_brand" onclick={handleSearch} style="margin-top: 19px;">조회</button>
                    </lightning-layout-item>

                </lightning-layout>
            </div>

            <div class="totalCnt">  TOTAL : {totalCnt}</div>
            <!-- Data Table Start -->
            <div class="table-container">

                <!-- <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-table_col-bordered"> -->
                <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-table_col-bordered">    
                    <!-- DT Column -->
                    <thead>
                        <tr class="slds-line-height_reset">
                            <th class="row-number fiexedHeader">No</th>
                            <th class="slds-text-title_caps">코드명</th>
                            <th class="slds-text-title_caps">코드</th>
                            <th class="slds-text-title_caps">비고</th>
                            <th class="slds-text-title_caps">활성화 여부</th>
                        </tr>
                    </thead>

                    <!-- DT Data Start -->
                        <tbody>
                            <template for:each={itemList} for:item="item" for:index="index">
                                <tr class="slds-hint-parent" key={item.id} data-index={index} onclick={handleClick} ondblclick={handleDoubleClick}>
                                    <td class="disable_td row-number">
                                        <div class="slds-truncate">{index}</div>
                                    </td>
                                    <td class="cell-disable slds-text-align_left" >
                                        <div class="slds-truncate">{item.CustomerID__c}</div>
                                    </td>
                                    <td class="cell-disable slds-text-align_left" >
                                        <div class="slds-truncate">{item.searchKey__c}</div>
                                    </td>
                                    <td class="cell-disable slds-text-align_left" >
                                        <div class="slds-truncate">{item.CustomerType__c}</div>
                                    </td>
                                    <td class="cell-disable slds-text-align_left" >
                                        <div class="slds-truncate">{item.CompanyRegisterNumber__c}</div>
                                    </td>
                                </tr>
                            </template>
                        </tbody>
                    <!-- DT Data End -->
                
                </table>
            </div>
            <!-- Data Table End -->

        </lightning-modal-body>

        <!-- Footer -->
        <lightning-modal-footer>
            <div class="slds-align_absolute-center">  
                <!-- <lightning-button variant="brand" label="Save" onclick={handleSave} class="slds-m-left_x-small"></lightning-button> -->
                <lightning-button variant="neutral" label="Close" onclick={handleClose} class="slds-m-left_x-small"></lightning-button>
            </div>
        </lightning-modal-footer>
    </Template>
</template>