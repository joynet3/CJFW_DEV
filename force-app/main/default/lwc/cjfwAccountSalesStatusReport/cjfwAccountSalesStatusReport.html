<!--
  @description       : test화면으로 사용 중 
  @author            : joohyeon.jang@dkbmc.com
  @group             : 
  @last modified on  : 08-17-2023
  @last modified by  : joohyeon.jang@dkbmc.com
  Modifications Log
  Ver   Date         Author                    Modification
  1.0   08-09-2023   joohyeon.jang@dkbmc.com   Initial Version
-->
<template>
    <Template lwc:if={showModal}>
       <!-- #Header -->
       <lightning-modal-header label="대량 발행">
       </lightning-modal-header>
       
       <!-- #Body -->
       <lightning-modal-body>
            <!-- 상단 영역 -->
           <lightning-card label="Tax Issuance Status Search" icon-name="utility:form"  title="대량 세금계산서 발행" type="media" href="#" class="list_view_container" style="background-color: #F3F3F3 ;">
                <!-- 상단 영역 End -->
               <!-- 필터 영역 -->
               <lightning-layout style="padding-bottom: 1rem; background-color: #F3F3F3;">
                   <lightning-layout multiple-rows="true">
                       <lightning-layout-item size="2" padding="around-small" >
                            <c-comm-custom-select
                                is-required
                                is-empty-option
                                options={headOfficeOptions}
                                label="본부"
                                onselected={handleSelectedHead}
                                >
                            </c-comm-custom-select>
                       </lightning-layout-item>
                       <lightning-layout-item size="2" padding="around-small" >
                            <c-comm-custom-select 
                                is-empty-option
                                options={suOptions}
                                label="SU"
                                onselected={handleSelectedSu}
                                >
                            </c-comm-custom-select>
                       </lightning-layout-item> 

                       <lightning-layout-item size="2" padding="around-small" >
                            <c-comm-custom-select 
                                is-empty-option
                                options={teamOptions}
                                label="팀"
                                onselected={handleSelectedTeam}
                                >
                            </c-comm-custom-select>
                       </lightning-layout-item>
                       <lightning-layout-item size="6" padding="around-small" >
                       </lightning-layout-item>
                       <lightning-layout-item size="2" padding="around-small" >
                           <lightning-input label="고객사" name="enter-search" type="search" value={singleSearchKey} onchange={changeHandleSearch} onkeypress={handleEnter} onfocus={handleClick} required></lightning-input>
                       </lightning-layout-item>
                       <lightning-layout-item size="2" padding="around-small" >
                           <lightning-input label="관리처" name="enter-search" type="search" value={singleSearchEmpNum} onchange={changeHandleSearch} onkeypress={handleEnter}  ></lightning-input>
                       </lightning-layout-item>
                       <lightning-layout-item size="2" padding="around-small" >
                           <lightning-input label="판매처" name="enter-search" type="search" value={singleSearchKey} onchange={changeHandleSearch} onkeypress={handleEnter} onfocus={handleClick}></lightning-input>
                       </lightning-layout-item>
                       <lightning-layout-item size="2" padding="around-small" >
                           <lightning-input label="사원" name="enter-search" type="search" value={singleSearchEmpNum} onchange={changeHandleSearch} onkeypress={handleEnter}  ></lightning-input>
                       </lightning-layout-item>
                       <lightning-layout-item size="4" padding="around-small" >
                       </lightning-layout-item>
                       <lightning-layout-item size="2" padding="around-small" >
                           <lightning-input label ="매출일자" type ="date"  value ={singleFirstDayOfMonthDate} onchange={changeFromIssueData} field-level-help={helpText} required></lightning-input>
                       </lightning-layout-item>
                       <lightning-layout-item size="2" padding="around-small" >
                           <lightning-input label ="　" type ="date"  value ={singleTodayDate} onchange={changeToIssueData} field-level-help={helpText}></lightning-input>
                       </lightning-layout-item>
                      <lightning-layout-item size="2" padding="around-small" >
                            <c-comm-custom-select 
                                is-empty-option
                                options={typeOptions}
                                label="계산서 구분"
                                onselected={handleSelectedType}
                                >
                            </c-comm-custom-select>
                       </lightning-layout-item>
                       <lightning-layout-item size="2" padding="around-small" >
                            <c-comm-custom-select 
                                is-empty-option
                                options={nonPlationgOptions}
                                label="비식재 여부"
                                onselected={handleSelectedStatus}
                                >
                            </c-comm-custom-select>
                       </lightning-layout-item>
                       <lightning-layout-item size="2" padding="around-small" >
                            <c-comm-custom-select 
                                is-empty-option
                                options={etcType}
                                label="비식재 여부"
                                onselected={handleSelectedEtcType}
                                >
                            </c-comm-custom-select>
                </lightning-layout-item>
                       <lightning-layout-item flexibility="grow" padding="around-small" ></lightning-layout-item>
                       <lightning-layout-item size="auto" padding="around-small" class="search-button-item"  >
                           <lightning-button label="조회" variant="brand" onclick={handleTaxbtn} class="search-button"></lightning-button>
                       </lightning-layout-item>
                       <template if:true={IsShow}>
                           <c-cjfw-account-search-modal 
                               onsetsearchacc={handleSearchKey} >
                           </c-cjfw-account-search-modal>
                       </template>
                   </lightning-layout>
               </lightning-layout>
           </lightning-card>
           <!-- 필터 영역 End -->
            
           <!-- 필터 하단 왼쪽 영역 -->
           <div class="cjfw-tax-single-modal">
               <lightning-card>
                   <div class="slds-card__header slds-grid">
                       <div class="slds-size_2-of-4 size2">
                            <div class="slds-scrollable_x">
                                <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-table_col-bordered">
                                    <!-- Column -->
                                    <thead>
                                        <tr class="slds-line-height_reset">
                                            <th class="row-number fiexedHeader">
                                                <lightning-input type="checkbox" checked={isAllSelected} onchange={handleSelectAll}></lightning-input>
                                            </th>
                                            <th class="slds-text-title_caps">No</th>
                                            <th class="slds-text-title_caps">청구처</th>
                                            <th class="slds-text-title_caps">청구처 명</th>
                                            <th class="slds-text-title_caps">고객사</th>
                                            <th class="slds-text-title_caps">고객사 명</th>
                                            <th class="slds-text-title_caps">증빙일자</th>
                                            <th class="slds-text-title_caps">발행유형</th>
                                            <th class="slds-text-title_caps">상품코드</th>
                                            <th class="slds-text-title_caps">상품명</th>
                                            <th class="slds-text-title_caps">공급가액</th>
                                            <th class="slds-text-title_caps">새약</th>
                                            <th class="slds-text-title_caps">총액</th>
                                            <th class="slds-text-title_caps">빌링문서번호</th>
                                            <th class="slds-text-title_caps">주류여부</th>
                                        </tr>
                                    </thead>
                                    <!-- Column End -->

                                    <!-- Data List -->
                                    <tbody>
                                        <template for:each={data} for:item="item" for:index="index">
                                            <tr class="slds-hint-parent" key={item.id} data-index={index} onclick={handleClick} ondblclick={handleDoubleClick}>
                                                <td>
                                                    <lightning-input type="checkbox" checked={item.isSelected} data-id={item.id} onchange={handleRowSelect}></lightning-input>
                                                </td>
                                                <td class="cell-disable slds-text-align_left">
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.index}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.taxStatus}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.errMessage}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.taxReportStatus}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.electronicDocNum}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.customerName}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.teamName}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                        <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.customerName}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.managerMA}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.publishDate}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.createdDate}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.supplyValue}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.taxAmount}</div>
                                                </td>
                                                <td class="cell-disable slds-text-align_left" >
                                                    <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.totalMount}</div>
                                                </td>
                                            </tr>
                                        </template>
                                    </tbody>
                                    <!-- Data List End-->
                                </table>
                            </div>
                       </div>
                       <!-- 필터 하단 오른쪽 영역 : 왼쪽 공급자 -->
                       <div class="slds-size_2-of-4 size1">
                           <lightning-layout multiple-rows="true">
                                   <lightning-layout-item size="6" padding="around-small" >
                                       <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-table_col-bordered slds-text-align_center slds-border_right smallTable1">
                                           <thead>
                                               <tr class="slds-line-height_reset">
                                                   <th class="slds-text-title_caps slds-box main" colspan="4">공급자</th>
                                               </tr>
                                           </thead>
                                           <!-- Column End-->
                                           <!-- Data List Start -->
                                           <tbody>
                                               <tr>
                                                   <th>등록번호</th>
                                                   <td>122220</td>
                                                   <th>종사업장번호</th>
                                                   <td>210000</td>
                                               </tr>
                                               <tr>
                                                   <th>상호</th>
                                                   <td>씨제이</td>
                                                   <th>성명</th>
                                                   <td>김길동</td>
                                               </tr>
                                               <tr>
                                                   <th>사업장</th>
                                                   <td colspan="3">경기도 용인시</td>
                                               </tr>
                                               <tr>
                                                   <th>업태</th>
                                                   <td>도매</td>
                                                   <th>종목</th>
                                                   <td>식료품</td>
                                               </tr>
                                               <tr>
                                                   <th>이메일</th>
                                                   <td colspan="3">gildong1121@naver.com</td>
                                               </tr>
                                           </tbody>
                                       </table>
                                   </lightning-layout-item>
                                   <lightning-layout-item size="6" padding="around-small" >    
                                       <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-table_col-bordered slds-text-align_center slds-border_right smallTable2">
                                           <thead>
                                               <tr class="slds-line-height_reset">
                                                   <th class="slds-text-title_caps slds-box main" colspan="4">공급받는자</th>
                                               </tr>
                                           </thead>
                                           <!-- Column End-->
                                           <!-- Data List Start -->
                                           <tbody>
                                               <tr>
                                                   <th>등록번호</th>
                                                   <td>322220</td>
                                                   <th>종사업장번호</th>
                                                   <td>310000</td>
                                               </tr>
                                               <tr>
                                                   <th>상호</th>
                                                   <td>보배종합</td>
                                                   <th>성명</th>
                                                   <td>강민지</td>
                                               </tr>
                                               <tr>
                                                   <th>사업장</th>
                                                   <td colspan="3">전라남도 보성군 벌교읍</td>
                                               </tr>
                                               <tr>
                                                   <th>업태</th>
                                                   <td>도소매</td>
                                                   <th>종목</th>
                                                   <td>공산품</td>
                                               </tr>
                                               <tr>
                                                   <th>이메일</th>
                                                   <td colspan="3">minji2323@naver.com</td>
                                               </tr>
                                           </tbody>
                                       </table>
                                   </lightning-layout-item>
                               <!--오른쪽 하단 한 줄-->
                               <lightning-layout-item size="4" padding="around-small" >
                                   <lightning-input label ="총계" type ="text"  value ={fromCreatdDate} onchange={changeFromCreatedData} field-level-help={helpText}></lightning-input>
                               </lightning-layout-item>
                               <lightning-layout-item size="4" padding="around-small" >
                                   <lightning-input label ="공급가액" type ="text"  value ={fromCreatdDate} onchange={changeFromCreatedData} field-level-help={helpText}></lightning-input>
                               </lightning-layout-item>
                               <lightning-layout-item size="4" padding="around-small" >
                                   <lightning-input label="비고" name="enter-search" type="text" value={searchKey} onchange={changeHandleSearch} onkeypress={handleEnter} onfocus={handleClick}></lightning-input>
                               </lightning-layout-item>    
                               <!--오른쪽 하단 한 줄-->
                                   <lightning-layout-item size="4" padding="around-small" >
                                       <lightning-input label ="작성일자" type ="date"  value ={fromCreatdDate} onchange={changeFromCreatedData} field-level-help={helpText}></lightning-input>
                                   </lightning-layout-item>
                                   <lightning-layout-item size="4" padding="around-small" >
                                       <c-comm-custom-select 
                                           is-required
                                           is-empty-option
                                           options={typeOptions}
                                           label="청구/영수"
                                           onselected={handleSelectedType}
                                           >
                                       </c-comm-custom-select>
                                   </lightning-layout-item>
                                   <lightning-layout-item size="4" padding="around-small" >
                                       <lightning-input label="비고" name="enter-search" type="text" value={searchKey} onchange={changeHandleSearch} onkeypress={handleEnter} onfocus={handleClick}></lightning-input>
                                   </lightning-layout-item>
                               <!--오른쪽 맨 하단 품목 List-->
                               <lightning-layout-item size="12" padding="around-small" >
                                   <div class="slds-clearfix">
                                       <div class="slds-float_right">
                                           <lightning-button variant="neutral" label="추가" onclick={handleAdd} class="slds-m-left_x-small"></lightning-button>
                                           <lightning-button variant="neutral" label="삭제" onclick={handleDelete} class="slds-m-left_x-small"></lightning-button>
                                       </div>
                                   </div>
                                   <div class="slds-scrollable_x">
                                       <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-table_col-bordered slds-border_right">
                                           <!-- Column Start-->
                                           <thead>
                                               <tr class="slds-line-height_reset slds-box">
                                                   <th class="row-number fiexedHeader">
                                                       <lightning-input type="checkbox" checked={isAllSelected} onchange={handleSelectAll}></lightning-input>
                                                   </th>
                                                   <th class="slds-text-title_caps">No</th>
                                                   <th class="slds-text-title_caps">품목명</th>
                                                   <th class="slds-text-title_caps">수량</th>
                                                   <th class="slds-text-title_caps">총계</th>
                                                   <th class="slds-text-title_caps">공급가액</th>
                                                   <th class="slds-text-title_caps">세액</th>
                                                   <th class="slds-text-title_caps">비고</th>
                                               </tr>
                                           </thead>
                                           <!-- Column End-->
                                           <!-- Data List Start -->
                                           <tbody>
                                               <template for:each={itemData} for:item="item" for:index="index">
                                                   <tr class="slds-hint-parent" key={item.id} data-index={index} onclick={handleClick} ondblclick={handleDoubleClick}>
                                                       <td>
                                                           <lightning-input type="checkbox" checked={item.isSelected} data-id={item.id} onchange={handleRowSelect}></lightning-input>
                                                       </td>
                                                       <td class="cell-disable slds-text-align_left">
                                                           <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.id}</div>
                                                       </td>
                                                       <td class="cell-disable slds-text-align_left" >
                                                           <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.date}</div>
                                                       </td>
                                                       <td class="cell-disable slds-text-align_left" >
                                                           <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.typeCode}</div>
                                                       </td>
                                                       <td class="cell-disable slds-text-align_left" >
                                                           <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.type}</div>
                                                       </td>
                                                       <td class="cell-disable slds-text-align_left" >
                                                           <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.orderNo}</div>
                                                       </td>
                                                       <td class="cell-disable slds-text-align_left" >
                                                           <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.documentNo}</div>
                                                       </td>
                                                       <td class="cell-disable slds-text-align_left" >
                                                           <div class="slds-truncate slds-truncate slds-truncate_container_66">{item.sellerCode}</div>
                                                       </td>
                                                   </tr>
                                               </template>
                                           </tbody>
                                       </table>
                                   </div>
                               </lightning-layout-item> 
                           </lightning-layout>    
                       </div>
                       <!-- 필터 하단 오른쪽 영역 : 왼쪽 공급자 End -->
                   </div>
               </lightning-card>
            </div>
           <!-- 필터 하단 왼쪽 영역 End-->
       </lightning-modal-body>
       <!-- #Body End-->

       <!-- Footer -->
       <lightning-modal-footer>
           <div class="slds-clearfix">
               <div class="slds-float_right">
                   <lightning-button variant="neutral" label="취소" onclick={handleClose} class="slds-m-left_x-small"></lightning-button>
                   <lightning-button variant="brand" label="발행 전송" onclick={handleNext} class="slds-m-left_x-small"></lightning-button>
               </div>
             </div>
       </lightning-modal-footer>
       <!-- Footer End-->
   </Template>
</template>