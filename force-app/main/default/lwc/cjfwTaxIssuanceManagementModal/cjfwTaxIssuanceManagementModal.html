<!--
  @description       : 세금계산서 발행 Tab Main > 수령지관리 Btn 화면
  @author            : joohyeon.jang@dkbmc.com
  @group             : 
  @last modified on  : 08-09-2023
  @last modified by  : joohyeon.jang@dkbmc.com
  Modifications Log
  Ver   Date         Author                    Modification
  1.0   08-09-2023   joohyeon.jang@dkbmc.com   Initial Version
-->
<template>
    <Template lwc:if={showModal}>
        <!-- Header -->
        <lightning-modal-header label="수령자 관리">
        </lightning-modal-header>
        
        <!-- #Body -->
        <lightning-modal-body> 
             <!-- 상단 영역 -->
            <lightning-card label="Tax Issuance Status Search" icon-name="utility:form"  title="세금계산서 수령자 관리" type="media" href="#" class="list_view_container" style="background-color: #F3F3F3 ;">
                <lightning-button label="신규" slot="actions"  variant="neutral" onclick={handleCancel} style="padding-right: 5px;"></lightning-button>
                <lightning-button label="삭제" slot="actions"  variant="neutral" onclick={handleManagement}></lightning-button>
                <!-- 필터 영역 start -->
                <lightning-layout style="padding-bottom: 1rem; background-color: #F3F3F3;">
                        <lightning-layout-item size="2" padding="around-small" >
                                <lightning-combobox
                                        name="progress"
                                        label="본부"
                                        value={singleHeadComboVal}
                                        placeholder="선택"
                                        options={headOfficeOptions} 
                                        onchange={changHeadOption}
                                        required ></lightning-combobox>
                        </lightning-layout-item>
                        <lightning-layout-item size="2" padding="around-small" >
                                <lightning-combobox
                                        name="progress"
                                        label="SU"
                                        value={singleSuComboVal}
                                        placeholder="전체"
                                        options={suOptions}
                                        onchange={changeSuOption}></lightning-combobox>
                        </lightning-layout-item>

                        <lightning-layout-item size="2" padding="around-small" >
                                <lightning-combobox
                                        name="progress"
                                        label="팀"
                                        value={singleTeamComboVal}
                                        placeholder="전체"
                                        options={teamOptions}
                                        onchange={changeTeamOption}></lightning-combobox>
                        </lightning-layout-item>
                        <lightning-layout-item size="2" padding="around-small" >
                            <lightning-input label="고객사" name="enter-search" type="search" value={singleSearchKey} onchange={changeHandleSearch} onkeypress={handleEnter} onfocus={handleClick}></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item size="2" padding="around-small" >
                            <lightning-input label="사번" name="enter-search" type="search" value={singleSearchEmpNum} onchange={changeHandleSearch} onkeypress={handleEnter}  ></lightning-input>
                        </lightning-layout-item>
                        <lightning-layout-item size="2" padding="around-small" style="padding-top : 34px" >
                            <lightning-button label="조회" variant="brand" onclick={handleTaxbtn} class="search-button" ></lightning-button>
                        </lightning-layout-item>
                    </lightning-layout>
                        <!-- <lightning-layout-item flexibility="grow" padding="around-small" ></lightning-layout-item>
                        <lightning-layout-item size="auto" padding="around-small" class="search-button-item"  >
                            <lightning-button label="조회" variant="brand" onclick={handleTaxbtn} class="search-button"></lightning-button>
                        </lightning-layout-item> -->
                        <!-- <template if:true={IsShow}>
                            <c-cjfw-account-search-modal 
                                onsetsearchacc={handleSearchKey} >
                            </c-cjfw-account-search-modal>
                        </template> -->
                <!-- 필터 영역 End -->
            </lightning-card>
            <!-- 상단 영역 End -->     
            
             
            <!-- 필터 하단 왼쪽 영역 : 고객사 List -->
            <div class="cjfw-tax-management-modal">
                <lightning-card>
                    <div class="slds-card__header slds-grid">
                        <div class="slds-size_1-of-4 slds-border_right size2">
                            <div class="slds-box">
                                <div class="slds-scrollable_x"  style="margin-top:8px;" >
                                    <lightning-card variant="Narrow" icon-name="standard:custom" title="고객사 List" class="related-card">
                                        <div class="slds-scrollable_x">
                                            <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-table_col-bordered">
                                                <!-- Column Start-->
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <th class="slds-text-title_caps">No</th>
                                                        <th class="slds-text-title_caps">고객코드</th>
                                                        <th class="slds-text-title_caps">고객사명</th>
                                                    </tr>
                                                </thead>
                                                <!-- Column End-->
                                                <!-- Data List Start -->
                                                <tbody>
                                                    <template for:each={customerListData} for:item="item" for:index="index">
                                                        <tr class="slds-hint-parent" key={item.id} data-index={index} onclick={handleClick} ondblclick={handleDoubleClick}>
                                                            <td class="cell-disable slds-text-align_left">
                                                                <div class="slds-truncate slds-truncate">{item.id}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.customerCode}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.customerName}</div>
                                                            </td>
                                                        </tr>
                                                    </template>
                                                </tbody>
                                            </table>
                                        </div>
                                    </lightning-card>
                                </div>
                            </div>
                        </div>
                        <!-- 필터 하단 왼쪽 영역 : 고객사 List End -->

                        <!-- 필터 하단 오른쪽 영역 : 수령자 정보 등록 -->
                        <div class="slds-size_3-of-4 size1">
                            <div class="slds-box">
                                <div class="slds-scrollable_x">
                                    <lightning-card variant="" icon-name="standard:custom" title="수령자 정보 등록" class="related-card">
                                        <div slot="actions" class="slds-grid slds-container_right" > <!-- class="slds-grid slds-grid_align-end"-->
                                            <div class="slds-col colleft">
                                                <lightning-button class = "excelDown" label="엑셀양식다운" variant="neutral" onclick={handleManagement}></lightning-button>
                                            </div>
                                            <div class="slds-col colRight">
                                                <lightning-button class = "excelUplod" label="엑셀업로드" variant="neutral" onclick={handleManagement}></lightning-button>
                                            </div>
                                        </div>
                                        <div class="slds-scrollable_x">
                                            <table class="slds-table slds-table_bordered slds-table_cell-buffer slds-table_col-bordered">
                                                <!-- Column Start-->
                                                <thead>
                                                    <tr class="slds-line-height_reset">
                                                        <th class="row-number fiexedHeader">
                                                            <lightning-input type="checkbox" checked={isAllSelected} onchange={handleSelectAll}></lightning-input>
                                                        </th>
                                                        <th class="slds-text-title_caps">No</th>
                                                        <th class="slds-text-title_caps">성명</th>
                                                        <th class="slds-text-title_caps">부서</th>
                                                        <th class="slds-text-title_caps">Email</th>
                                                        <th class="slds-text-title_caps">휴대폰 번호</th>
                                                        <th class="slds-text-title_caps">사무실 번호</th>
                                                        <th class="slds-text-title_caps">세금계산서 발행</th>
                                                        <th class="slds-text-title_caps">대표담당 여부</th>
                                                        <th class="slds-text-title_caps">최초입력일</th>
                                                        <th class="slds-text-title_caps">최종수정일</th>
                                                        <th class="slds-text-title_caps">최종수정자</th>
                                                    </tr>
                                                </thead>
                                                <!-- Column End-->
                                                <!-- Data List Start -->
                                                <tbody>
                                                    <template for:each={recipientInfoData} for:item="item" for:index="index">
                                                        <tr class="slds-hint-parent" key={item.id} data-index={index} onclick={handleClick} ondblclick={handleDoubleClick}>
                                                            <th class="row-number fiexedHeader">
                                                                <lightning-input type="checkbox" checked={isAllSelected} onchange={handleSelectAll}></lightning-input>
                                                            </th>
                                                            <td class="cell-disable slds-text-align_left">
                                                                <div class="slds-truncate slds-truncate">{item.id}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.name}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.department}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.email}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.phone}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.officeNumber}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.taxIssuance}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.isRepresentative}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.lastInputDate}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.lasModifiedCDate}</div>
                                                            </td>
                                                            <td class="cell-disable slds-text-align_left" >
                                                                <div class="slds-truncate slds-truncate">{item.lastModified}</div>
                                                            </td>
                                                        </tr>
                                                    </template>
                                                </tbody>
                                            </table>
                                        </div>
                                    </lightning-card>
                                </div>
                            </div>
                        </div>
                        <!-- 필터 하단 오른쪽 영역 : 수령자 정보 등록 End -->
                        
                    </div>
                </lightning-card>
            </div>    
            <!-- 필터 하단 왼쪽 영역 End-->
        </lightning-modal-body>
        <!-- #Body End-->

        <!-- Footer -->
        <lightning-modal-footer>
            <div class="slds-clearfix">
                <div class="slds-float_right">
                    <lightning-button variant="neutral" label="취소" onclick={handleClose} class="slds-m-left_x-small"></lightning-button>
                    <lightning-button variant="brand" label="저장" onclick={handleNext} class="slds-m-left_x-small"></lightning-button>
                </div>
              </div>
        </lightning-modal-footer>
    </Template>
</template>